<div class="container my-4">
  <!-- Thanh tìm kiếm & bộ lọc -->
  <!-- Nút Thêm mới tour và tiêu đề -->
  <h1 class="text-center mb-4">Danh sách tour</h1>

<!-- Bộ lọc tour -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="hasBooking">
    <label class="form-check-label" for="hasBooking">
      Tour đang có khách đặt
    </label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="noBooking">
    <label class="form-check-label" for="noBooking">
      Tour chưa có khách đặt
    </label>
  </div>
</div>

<!-- Form tìm kiếm và lọc -->
<div class="row mb-3">
  <div class="col-md-3"> <!-- Giảm width xuống còn 3 -->
    <input type="text" class="form-control" [(ngModel)]="keyword" placeholder="Tìm theo tên tour, điểm đến...">
  </div>
  <div class="col-md-2"> <!-- Giảm width xuống còn 2 -->
    <select class="form-select">
      <option value="">Trạng thái</option>
      <option value="ACTIVE">Đang hoạt động</option>
      <option value="PAUSED">Tạm dừng</option>
    </select>
  </div>
  <div class="col-md-2"> <!-- Giảm width xuống còn 2 -->
    <button class="btn btn-primary w-100">Lọc</button>
  </div>

  <!-- Thêm tour mới -->
  <div class="col-md-2"> <!-- Giảm width xuống còn 2 -->
    <a routerLink="/admin/them-moi-tour" class="btn btn-success w-100">Thêm mới tour</a>
  </div>
  
  <!-- Xem báo cáo thống kê -->
  <div class="col-md-2"> <!-- Giảm width xuống còn 2 -->
    <a routerLink="/admin/bao-cao-thong-ke" class="btn btn-info w-100">Xem thống kê</a>
  </div>
</div>

  
  
  <!-- Bảng dữ liệu tour -->
  <div class="table-responsive">
    <table class="table table-hover table-striped align-middle">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Tên tour</th>
          <th>Số ngày</th>
          <th>Ngày khởi hành</th>
          <th>Điểm đến</th>
          <th>Loại tour</th>
          <th>Điểm khởi hành</th>
          <th>Trạng thái</th>
          <th>Giá tour</th>
          <th>Tiêu đề</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tour of tours">
          <td>{{ tour.id }}</td>
          <td>{{ tour.tour_name }}</td>
          <td>{{ tour.days }}</td>
          <td>{{ tour.start_date }}</td>
          <td>{{ tour.destination }}</td>
          <td>{{ tour.tour_type }}</td>
          <td>{{ tour.departure_location }}</td>
          <td>{{ tour.status }}</td>
          <td>{{ tour.price }}</td>
          <td>{{ tour.description }}</td>
          <td>
            <!-- Hành động -->
            <a class="btn btn-info btn-sm" [routerLink]="['/admin/them-anh', tour.id]" title="Thêm ảnh">Thêm ảnh</a>
            <a class="btn btn-primary btn-sm" [routerLink]="['/admin/edit-tour', tour.id]" title="Sửa thông tin">Sửa</a>
            <a class="btn btn-warning btn-sm"  title="Tạm dừng/Kích hoạt tour">
              {{ tour.status === 'ACTIVE' ? 'Tạm dừng' : 'Kích hoạt' }}
            </a>
            <a class="btn btn-secondary btn-sm" [routerLink]="['/admin/lich-trinh', tour.id]" title="Quản lý lịch trình tour">Lịch trình</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Phân trang -->
  <div class="d-flex justify-content-center my-4" *ngIf="totalPages > 1">
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item" *ngIf="currentPage > 1">
          <a class="page-link" (click)="onPageChange(1)">First</a>
        </li>
        <li class="page-item" *ngIf="currentPage > 1">
          <a class="page-link" (click)="onPageChange(currentPage - 1)">Previous</a>
        </li>
        <ng-container *ngFor="let page of visiblePages">
          <li class="page-item" [ngClass]="{'active': page === currentPage}">
            <a class="page-link" (click)="onPageChange(page)">{{ page }}</a>
          </li>
        </ng-container>
        <li class="page-item" *ngIf="currentPage < totalPages">
          <a class="page-link" (click)="onPageChange(currentPage + 1)">Next</a>
        </li>
        <li class="page-item" *ngIf="currentPage < totalPages">
          <a class="page-link" (click)="onPageChange(totalPages)">Last</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
